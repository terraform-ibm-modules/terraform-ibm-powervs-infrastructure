{
  "path": ".",
  "variables": {
    "access_host_or_ip": {
      "name": "access_host_or_ip",
      "type": "string",
      "description": "The public IP address for the jump or Bastion server. The address is used to reach the target or server_host IP address and to configure the DNS, NTP, NFS, and Squid proxy services.",
      "pos": {
        "filename": "variables.tf",
        "line": 111
      }
    },
    "cloud_connection_count": {
      "name": "cloud_connection_count",
      "type": "number",
      "description": "Required number of Cloud connections to create or reuse. The maximum number of connections is two per location.",
      "default": 2,
      "pos": {
        "filename": "variables.tf",
        "line": 71
      }
    },
    "cloud_connection_gr": {
      "name": "cloud_connection_gr",
      "type": "bool",
      "description": "Whether to enable global routing for this IBM Cloud connection. You can specify thia value when you create a connection.",
      "pos": {
        "filename": "variables.tf",
        "line": 99
      }
    },
    "cloud_connection_metered": {
      "name": "cloud_connection_metered",
      "type": "bool",
      "description": "Whether to enable metering for this IBM Cloud connection. You can specify thia value when you create a connection.",
      "pos": {
        "filename": "variables.tf",
        "line": 105
      }
    },
    "cloud_connection_speed": {
      "name": "cloud_connection_speed",
      "type": "number",
      "description": "Speed in megabits per second. Supported values are 50, 100, 200, 500, 1000, 2000, 5000, 10000. Required when you create a connection.",
      "default": 5000,
      "pos": {
        "filename": "variables.tf",
        "line": 77
      }
    },
    "dns_forwarder_config": {
      "name": "dns_forwarder_config",
      "type": "object({\n    dns_enable        = bool\n    server_host_or_ip = string\n    dns_servers       = string\n  })",
      "description": "Configuration for the DNS forwarder to a DNS service that is not reachable directly from PowerVS",
      "default": {
        "dns_enable": "false",
        "dns_servers": "161.26.0.7; 161.26.0.8; 9.9.9.9;",
        "server_host_or_ip": "inet-svs"
      },
      "pos": {
        "filename": "variables.tf",
        "line": 129
      }
    },
    "nfs_config": {
      "name": "nfs_config",
      "type": "object({\n    nfs_enable        = bool\n    server_host_or_ip = string\n    nfs_directory     = string\n  })",
      "description": "Configuration for the shared NFS file system (for example, for the installation media).",
      "default": {
        "nfs_directory": "/nfs",
        "nfs_enable": "true",
        "server_host_or_ip": "private-svs"
      },
      "pos": {
        "filename": "variables.tf",
        "line": 155
      }
    },
    "ntp_forwarder_config": {
      "name": "ntp_forwarder_config",
      "type": "object({\n    ntp_enable        = bool\n    server_host_or_ip = string\n  })",
      "description": "Configuration for the NTP forwarder to an NTP service that is not reachable directly from PowerVS",
      "default": {
        "ntp_enable": "false",
        "server_host_or_ip": "inet-svs"
      },
      "pos": {
        "filename": "variables.tf",
        "line": 143
      }
    },
    "perform_proxy_client_setup": {
      "name": "perform_proxy_client_setup",
      "type": "object(\n    {\n      squid_client_ips = list(string)\n      squid_server_ip  = string\n      no_proxy_env     = string\n    }\n  )",
      "description": "Proxy configuration to allow internet access for a VM or LPAR.",
      "pos": {
        "filename": "variables.tf",
        "line": 169
      }
    },
    "pvs_backup_network": {
      "name": "pvs_backup_network",
      "type": "object({\n    name = string\n    cidr = string\n  })",
      "description": "Name of the IBM Cloud PowerVS backup network and CIDR to create",
      "default": {
        "cidr": "10.52.0.0/24",
        "name": "bkp_net"
      },
      "pos": {
        "filename": "variables.tf",
        "line": 47
      }
    },
    "pvs_image_names": {
      "name": "pvs_image_names",
      "type": "list(string)",
      "description": "List of Images to be imported into cloud account from catalog images",
      "default": [
        "SLES15-SP3-SAP",
        "SLES15-SP3-SAP-NETWEAVER",
        "RHEL8-SP4-SAP",
        "RHEL8-SP4-SAP-NETWEAVER"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 93
      }
    },
    "pvs_management_network": {
      "name": "pvs_management_network",
      "type": "object({\n    name = string\n    cidr = string\n  })",
      "description": "Name of the IBM Cloud PowerVS management subnet and CIDR to create",
      "default": {
        "cidr": "10.51.0.0/24",
        "name": "mgmt_net"
      },
      "pos": {
        "filename": "variables.tf",
        "line": 35
      }
    },
    "pvs_resource_group_name": {
      "name": "pvs_resource_group_name",
      "type": "string",
      "description": "Existing resource group name",
      "required": true,
      "pos": {
        "filename": "variables.tf",
        "line": 6
      }
    },
    "pvs_service_name": {
      "name": "pvs_service_name",
      "type": "string",
      "description": "Name of the PowerVS service to create",
      "default": "power-service",
      "pos": {
        "filename": "variables.tf",
        "line": 11
      }
    },
    "pvs_sshkey_name": {
      "name": "pvs_sshkey_name",
      "type": "string",
      "description": "Name of the PowerVS SSH key to create",
      "default": "ssh-key-pvs",
      "pos": {
        "filename": "variables.tf",
        "line": 17
      }
    },
    "pvs_zone": {
      "name": "pvs_zone",
      "type": "string",
      "description": "IBM Cloud PowerVS zone",
      "required": true,
      "pos": {
        "filename": "variables.tf",
        "line": 1
      }
    },
    "reuse_cloud_connections": {
      "name": "reuse_cloud_connections",
      "type": "bool",
      "description": "When true, IBM Cloud connections are reused (if attached to the transit gateway).",
      "default": false,
      "pos": {
        "filename": "variables.tf",
        "line": 65
      }
    },
    "squid_config": {
      "name": "squid_config",
      "type": "object({\n    squid_enable      = bool\n    server_host_or_ip = string\n  })",
      "description": "Configuration for the Squid proxy to a DNS service that is not reachable directly from PowerVS",
      "default": {
        "server_host_or_ip": "inet-svs",
        "squid_enable": "false"
      },
      "pos": {
        "filename": "variables.tf",
        "line": 117
      }
    },
    "ssh_private_key": {
      "name": "ssh_private_key",
      "type": "string",
      "description": "SSH private key value to log into the server. The key is not uploaded or stored.",
      "required": true,
      "sensitive": true,
      "pos": {
        "filename": "variables.tf",
        "line": 29
      }
    },
    "ssh_public_key": {
      "name": "ssh_public_key",
      "type": "string",
      "description": "Public SSH Key for the PowerVM to create",
      "required": true,
      "sensitive": true,
      "pos": {
        "filename": "variables.tf",
        "line": 23
      }
    },
    "tags": {
      "name": "tags",
      "type": "list(string)",
      "description": "List of tag names for the IBM Cloud PowerVS service",
      "pos": {
        "filename": "variables.tf",
        "line": 87
      }
    },
    "transit_gateway_name": {
      "name": "transit_gateway_name",
      "type": "string",
      "description": "Name of the existing transit gateway. Required when you create new IBM Cloud connections.",
      "pos": {
        "filename": "variables.tf",
        "line": 59
      }
    }
  },
  "outputs": {
    "pvs_backup_network_name": {
      "name": "pvs_backup_network_name",
      "description": "Name of the created backup network.",
      "pos": {
        "filename": "outputs.tf",
        "line": 6
      }
    },
    "pvs_management_network_name": {
      "name": "pvs_management_network_name",
      "description": "Name of the created management network.",
      "pos": {
        "filename": "outputs.tf",
        "line": 1
      }
    },
    "pvs_resource_group_name": {
      "name": "pvs_resource_group_name",
      "description": "Name of the IBM PowerVS resource group where elements were created.",
      "pos": {
        "filename": "outputs.tf",
        "line": 16
      }
    },
    "pvs_service_name": {
      "name": "pvs_service_name",
      "description": "Name of the service where elements were created.",
      "pos": {
        "filename": "outputs.tf",
        "line": 21
      }
    },
    "pvs_ssh_key_name": {
      "name": "pvs_ssh_key_name",
      "description": "Name of the created ssh key.",
      "pos": {
        "filename": "outputs.tf",
        "line": 26
      }
    },
    "pvs_zone": {
      "name": "pvs_zone",
      "description": "Name of the IBM PowerVS zone where elements were created.",
      "pos": {
        "filename": "outputs.tf",
        "line": 11
      }
    }
  },
  "required_core": [
    "\u003e= 1.1.0"
  ],
  "required_providers": {
    "ibm": {
      "source": "IBM-Cloud/ibm",
      "version_constraints": [
        "\u003e= 1.21.0"
      ]
    }
  },
  "managed_resources": {},
  "data_resources": {},
  "module_calls": {
    "cloud_connection_attach": {
      "name": "cloud_connection_attach",
      "source": "./submodules/power_cloudconnection_attach",
      "attributes": {
        "cloud_connection_count": "cloud_connection_count",
        "pvs_resource_group_name": "pvs_resource_group_name",
        "pvs_service_name": "pvs_service_name",
        "pvs_subnet_names": "pvs_management_network",
        "pvs_zone": "pvs_zone"
      },
      "pos": {
        "filename": "main.tf",
        "line": 43
      }
    },
    "cloud_connection_create": {
      "name": "cloud_connection_create",
      "source": "./submodules/power_cloudconnection_create",
      "attributes": {
        "cloud_connection_count": "cloud_connection_count",
        "cloud_connection_gr": "cloud_connection_gr",
        "cloud_connection_metered": "cloud_connection_metered",
        "cloud_connection_speed": "cloud_connection_speed",
        "count": "reuse_cloud_connections",
        "pvs_resource_group_name": "pvs_resource_group_name",
        "pvs_service_name": "pvs_service_name",
        "pvs_zone": "pvs_zone",
        "transit_gateway_name": "transit_gateway_name"
      },
      "pos": {
        "filename": "main.tf",
        "line": 28
      }
    },
    "initial_validation": {
      "name": "initial_validation",
      "source": "./submodules/initial_validation",
      "attributes": {
        "cloud_connection_validate": "reuse_cloud_connections"
      },
      "pos": {
        "filename": "main.tf",
        "line": 5
      }
    },
    "power_management_service_dns": {
      "name": "power_management_service_dns",
      "source": "./submodules/power_management_services_setup",
      "attributes": {
        "access_host_or_ip": "access_host_or_ip",
        "count": "dns_forwarder_config",
        "perform_proxy_client_setup": "perform_proxy_client_setup",
        "service_config": "dns_forwarder_config",
        "ssh_private_key": "ssh_private_key",
        "target_server_ip": "dns_forwarder_config"
      },
      "pos": {
        "filename": "main.tf",
        "line": 66
      }
    },
    "power_management_service_nfs": {
      "name": "power_management_service_nfs",
      "source": "./submodules/power_management_services_setup",
      "attributes": {
        "access_host_or_ip": "access_host_or_ip",
        "count": "nfs_config",
        "perform_proxy_client_setup": "perform_proxy_client_setup",
        "service_config": "nfs_config",
        "ssh_private_key": "ssh_private_key",
        "target_server_ip": "nfs_config"
      },
      "pos": {
        "filename": "main.tf",
        "line": 92
      }
    },
    "power_management_service_ntp": {
      "name": "power_management_service_ntp",
      "source": "./submodules/power_management_services_setup",
      "attributes": {
        "access_host_or_ip": "access_host_or_ip",
        "count": "ntp_forwarder_config",
        "perform_proxy_client_setup": "perform_proxy_client_setup",
        "service_config": "ntp_forwarder_config",
        "ssh_private_key": "ssh_private_key",
        "target_server_ip": "ntp_forwarder_config"
      },
      "pos": {
        "filename": "main.tf",
        "line": 79
      }
    },
    "power_management_service_squid": {
      "name": "power_management_service_squid",
      "source": "./submodules/power_management_services_setup",
      "attributes": {
        "access_host_or_ip": "access_host_or_ip",
        "count": "squid_config",
        "perform_proxy_client_setup": "perform_proxy_client_setup",
        "service_config": "squid_config",
        "ssh_private_key": "ssh_private_key",
        "target_server_ip": "squid_config"
      },
      "pos": {
        "filename": "main.tf",
        "line": 53
      }
    },
    "power_service": {
      "name": "power_service",
      "source": "./submodules/power_service",
      "attributes": {
        "pvs_backup_network": "pvs_backup_network",
        "pvs_image_names": "pvs_image_names",
        "pvs_management_network": "pvs_management_network",
        "pvs_resource_group_name": "pvs_resource_group_name",
        "pvs_service_name": "pvs_service_name",
        "pvs_sshkey_name": "pvs_sshkey_name",
        "pvs_zone": "pvs_zone",
        "ssh_public_key": "ssh_public_key",
        "tags": "tags"
      },
      "pos": {
        "filename": "main.tf",
        "line": 14
      }
    }
  }
}
